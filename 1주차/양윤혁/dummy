우선 결제 시점에 도달한 이후의 재고 수 부재에 대한 후처리는 제외하고, 유저가 재고 수를 확인하는 측면에서만 해결 방안을 검토해보자


1. 상품 재고 수를 레디스 캐싱 데이터로 두어, 판매자가 재고 수를 변경하는 경우, 캐싱하여 사용자가 상품 재고 수 조회 시, 캐싱된 데이터를 조회할 수 있도록 처리 
2. 사용자의 수요가 몰리는 특가, 로켓프레시 상품 등의 인기 카테고리에 대한 특이 케이스를 정의하여, 상품 재고 수 조회 시, Master DB를 바라볼 수 있도록 처리  
3. MySQL 5.7.2부터 도입된 AFTER_SYNC 기능을 활용하여 Master 엔진에 커밋되기 전에 Slave binlog에 선기록한 뒤, 그 후에 마스터에 응답을 보내어 Master에서 binlog 기록 및 커밋되도록 처리한다.

엔진 레벨 커밋 (Engine Commit)
- InnoDB가 Redo Log에 Commit Mark를 남기고 트랜잭션을 완료 처리하는 시점
- 엔진 관점에서는 트랜잭션이 끝났지만 아직 Binlog와의 동기화가 필요

바이너리 로그 기록 (Binlog Write & Flush)
- MySQL 서버가 트랜잭션을 Binlog에 기록하고 디스크까지 플러시하는 단계
- 복제를 위해 반드시 필요하며 장애 대비의 최종확정 로그의 역할

