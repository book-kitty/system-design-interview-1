


- 문제 상황
    - 한 대의 서버가 다운되어 일부 서비스가 완전 중단된 상태이다. 출구별로 독립적으로 관리되기에 데이터 백업도 없는 상태
    - 사용자가 늘어남에 따라 출구별로 한 대의 서버로 운영될 시 우려되는 SPOF(Single Point of Failure)의 문제점은 개선이 필요해보인다. 


- 해결 방안 1. 
    - 자주 쓰이는 데이터인 보관함 상태값(이용 가능 유무 등)을 하나의 레디스 서버에서 관리하며 TTL 설정을 통해 TTL 만료 시, DB 조회 후 상태값 갱신
    - 보관함 대여 요청 등의 쓰기 요청 시, DB와 Redis 동시에 업데이트 수행
    - 자주 쓰이는 데이터 : “Hot Data”
    - 과거 이력 등의 자주 엑세스 되지 않는 로그성 데이터 : “Cold Data” 

- 해결 방안 2. 
    - MySQL Replication Config 설정을 통해, 각 mysql 서버에 고유 ID 부여, 변경사항 기록방식, 충돌 방지 설정 등의 복제 설정을 추가하여 장애에 대응
    - 모든 변경사항의 경우 실시간으로 복제하는 과정을 통해 모든 서버가 전체 데이터를 보유하여 장애 시 타 서버에서 데이터를 보존되어 있을 수 있도록 시스템 구축
    - Master-Slaves 구조인 경우, 특정 서버만 유일하게 쓰기 가능이기에 Master-Slaves 구조가 아닌 Multi-Master 구조로 모든 서버에서 쓰기 작업 가능하도록 구축 
    - 동일 데이터 동시에 쓰는 일 없도록 데이터 충돌 방지를 위해, 분산 Lock 활용
    - 5번 출구 서버가 다운되더라도 기존에 복제된 다른 MySQL 서버 데이터를 기반으로 서비스 정상적으로 운영 가능



<img width="1122" height="588" alt="Image" src="https://github.com/user-attachments/assets/43fd047a-7e91-45ad-84f6-241080bae058" />
