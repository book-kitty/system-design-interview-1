해결 방안

1. 트위터 스노플레이크를 변형하여 아래의 ID 구조로 PK 정의
ID : 41비트 + 10비트 + 12비트 
41비트: 밀리초 단위 타임스탬프
10비트: 각 서버에 할당된 고유번호 
12비트: 동일 밀리초 내 증가 시퀀스값

2. 한 유저가 개인정보 이력을 수정하는 경우에 맞춰, 유저아이디 속성과 타임스탬프 값을 UK 정의


요구사항 충족 내용

전역 유일성
- 각 서버에 할당된 10비트 고유 번호로 전역 유일성 보장

정렬 가능성
- 41비트 타임스탬프가 ID의 최상위 비트에 위치하여 시간순 증가되는 스노플레이크 ID 특성상 자동으로 시간순 정렬

재시도 및 충돌 처리 로직
- 동일 밀리초 내에서 12비트 시퀀스 증가 처리로 인해 최대 4096개 처리가 가능하며 UK 제약조건으로 비즈니스 로직에서의 충돌방지 가능

운영 편의성
- 각 서버들이 독립적으로 고유번호를 생성하기에 서버 증감에 영향이 가지 않음

대용량 트래픽 처리 성능
- 메모리 비트 연산으로 서버당 초당 400만개 넘게 생성 및 처리 가능

